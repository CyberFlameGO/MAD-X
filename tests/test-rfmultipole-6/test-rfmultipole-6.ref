
  ++++++++++++++++++++++++++++++++++++++++++++
  +     MAD-X 5.02.04  (32 bit, Darwin)      +
  + Support: mad@cern.ch, http://cern.ch/mad +
  + Release   date: 2014.11.14               +
  + Execution date: 2015.03.12 17:29:48      +
  ++++++++++++++++++++++++++++++++++++++++++++
TITLE, 'RF-Dipole example';



!!!! data



Lq = 0.4;

Lb = 1.0;

Ld = (1.6 - Lb)/2.0;

Kf =  1.0; !  1.02780070155859;

Kd = -1.0; ! -1.02780070155859;



lcell = 2.0*Lq + 4.0*Ld + 2.0*Lb;

ncell = 12;

circum = ncell*lcell;



qf1:  quadrupole, l=Lq,     k1:=Kf;

qf1h: quadrupole, l=Lq/2.0, k1:=Kf;

qd1:  quadrupole, l=Lq,	    k1:=Kd;

mb:   sbend, 	  l=Lb, ANGLE=2.0*pi/ncell/2.0;

rfm1: rfmultipole, l=0, freq=12, knl:={1e-3},  pnl:={0.25};



!!!!! sequence

my_seq: sequence, refer=entry, l=ncell*lcell;

rfm1: rfm1, at=0.0;



n=1;

qf1h:	qf1h, at=(n-1)*lcell;

while (n<ncell) {

      mb:	mb,   at=(n-1)*lcell + Lq/2.0 + Ld;

      qd1:	qd1,  at=(n-1)*lcell + lcell/2.0 - Lq/2.0;

      mb:	mb,   at=(n-1)*lcell + lcell/2.0 + Lq/2.0 + Ld;

      qf1:	qf1, at=(n-1)*lcell + lcell - Lq/2.0;

      n=n+1;

}

++++++ info: n redefined
++++++ info: n redefined
++++++ info: n redefined
++++++ info: n redefined
++++++ info: n redefined
++++++ info: n redefined
++++++ info: n redefined
++++++ info: n redefined
++++++ info: n redefined
++++++ info: n redefined
++++++ info: n redefined
mb:	mb,   at=(n-1)*lcell + Lq/2.0 + Ld;

qd1:	qd1,  at=(n-1)*lcell + lcell/2.0 - Lq/2.0;

mb:	mb,   at=(n-1)*lcell + lcell/2.0 + Lq/2.0 + Ld;

qf1h:	qf1h, at=(n-1)*lcell + lcell - Lq/2.0;

endsequence;



!!!!! beam

beam, particle = proton, sequence = my_seq, energy = 1,

      NPART=1.05E11, sige=4.5e-4 ;



!!!!! twiss

use, sequence = my_seq;

select, flag = twiss, column=name,s,betx,alfx,mux, bety, alfy,muy,dx,dy;

twiss, save, centre; ! file=twiss2c.out;

enter Twiss module
++++++ info: Zero value of SIGT replaced by 1.
  
iteration:   1 error:   1.119543E-19 deltap:   0.000000E+00
orbit:   2.023900E-36 -8.175075E-35  0.000000E+00  0.000000E+00 -2.434672E-16 -4.704045E-34

++++++ table: summ

            length             orbit5               alfa            gammatr 
                48    2.434671907e-16       0.2468380022        2.012769249 

                q1                dq1            betxmax              dxmax 
       2.052693212       -2.555597869        5.632895932        6.547613635 

             dxrms             xcomax             xcorms                 q2 
       5.582047442    3.341083257e-19    1.995586164e-19        1.457312433 

               dq2            betymax              dymax              dyrms 
      -3.033796246        7.843106404                  0                  0 

            ycomax             ycorms             deltap            synch_1 
                 0                  0                  0                  0 

           synch_2            synch_3            synch_4            synch_5 
                 0                  0                  0                  0 
!	plot, haxis=s, vaxis=betx,bety,dx,colour=100;



!!!!! track

use, sequence=my_seq;

tr$macro(turn): macro = {

}



track, onepass, update, dump;

enter TRACK module
one pass is on
update is on
start, x=0, px=0, y=0, py=0, t=-0.01, pt=0;

start, x=0, px=0, y=0, py=0, t= 0.00, pt=0;

start, x=0, px=0, y=0, py=0, t= 0.01, pt=0;

run, turns=10;

++++++ info: Zero value of SIGT replaced by 1.
++++++ info: tr$turni redefined
++++++ info: tr$turni redefined
++++++ info: tr$turni redefined
++++++ info: tr$turni redefined
++++++ info: tr$turni redefined
++++++ info: tr$turni redefined
++++++ info: tr$turni redefined
++++++ info: tr$turni redefined
++++++ info: tr$turni redefined

++++++ table: tracksumm

    number       turn                  x                 px 
         1          0                  0                  0 
         2          0                  0                  0 
         3          0                  0                  0 
         1         10     8.27605611e-05   -3.798865354e-06 
         2         10      -1.549641e-20    -2.89511361e-20 
         3         10   -8.276087595e-05    3.798671694e-06 

                 y                 py                  t                 pt 
                 0                  0              -0.01                  0 
                 0                  0                  0                  0 
                 0                  0               0.01                  0 
                 0                  0     -0.01013913893   -1.119491826e-07 
                 0                  0    3.987561171e-20    3.343374769e-23 
                 0                  0      0.01013891452    1.119490074e-07 

                 s                  e 
                 0                  0 
                 0                  0 
                 0                  0 
                48                  0 
                48                  0 
                48                  0 

*****  end of trrun  *****
endtrack;

exit TRACK module



!!!!! Convert to SixTrack



!use, period=my_seq;

!sixtrack, radius=0.017;



stop;


  Number of warnings: 0

  ++++++++++++++++++++++++++++++++++++++++++++
  + MAD-X 5.02.04 (32 bit) finished normally +
  ++++++++++++++++++++++++++++++++++++++++++++

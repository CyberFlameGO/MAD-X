circum=3;
beam, particle=proton, energy = 5500;
ang=0.005;
qf: QUADRUPOLE, L:=1,K1:=0.1;
!qf:  MULTIPOLE, KNL={0.00, 0.001};
roty: YROTATION, angle=ang;
mroty: YROTATION, angle=-ang;
xin = 0;
yin = 0;
xpin =0;
ypin = 0;

seq: sequence, refer=center, l=circum;
roty:roty, at=1.000;
m1:marker, at=2.000;
qf: qf, at=2.5;
m2:marker, at=3.00;
mroty:mroty, at=3.000;
endsequence;


use, sequence=seq;
select, flag=twiss, column=name, s, x,px, y, py, PT, T;
twiss,X=xin,Y=yin, BETX=1, BETY=1, file="yrotation.twiss";
SURVEY, SEQUENCE=seq, FILE= survey.out, x0=xin;

TRACK, file = "yrotation.track",ONEPASS, ONETABLE;
OBSERVE, PLACE="roty";
OBSERVE, PLACE="m1";
OBSERVE, PLACE="mroty";
START,  x=0, y=0, t=0.0;
run, turns=1;


ptc_create_universe;
ptc_create_layout,model=2, method=6, nst=5, exact=true, closed_layout=false;

ptc_setswitch, debuglevel=0, nocavity=false, fringe=false, exact_mis=true, time=false, totalpath=false;
PTC_TWISS, table=twiss, icase=5, no=1, betx=1, bety=1, x=0, y=0, px=0, py=0, t=0.0, pt=0.0;
write, table=twiss, file="yrotation.ptc";
ptc_end;
stop;

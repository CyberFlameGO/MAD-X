  TITLE, s="e- Beam Delivery System 1 ->20 mr (ILC2005)";
  OPTION,ECHO = false;!, VERIFY = true;
!  ASSIGN, PRINT="ebds1.print";
!  ASSIGN, ECHO="ebds1.echo";
  const Cb=1.0E10/CLIGHT;
  Ef:=250.0;
  Brho:=Cb*Ef;
  Efact:=Ef/500;
  Bsign:=-1;
  Bscl:=Ef/500;
  L12MM:=0.012;
  L50CM:=0.5;
  L1M:=1.0;
  L2M:=2.0;
  LFBC:=0.2;
  LFBK:=0.3;
  Lspace:=0.1;
  Bmax:=9.6; //maximum quadrupole pole-tip field for 500 GeV beam (kG)
  TFOC:=0;
  QBDS1:quadrupole, TYPE="QBDS1",L:=L50CM/2, aperture:=L12MM/2;
  QFACT1:=1/(L12MM/2*Brho);
  QBDS2:quadrupole, TYPE="QBDS2",L:=L1M/2, aperture:=L12MM/2;
  QFACT2:=1/(L12MM/2*Brho);
  QBDS3:quadrupole, TYPE="QBDS3",L:=L2M/2, aperture:=L12MM/2;
  QFACT3:=1/(L12MM/2*Brho);
  BPMQ079:monitor;
  MMOVER:marker;
!  FBCXY:INST;
!  FBKXY:INST;
  FBCXY:monitor;
  FBKXY:monitor;
  BPMMB079:monitor;
  WS:WIRE;
  BPMWS:monitor;
  BPME:monitor;
  BPMVIRT:monitor;
  CALL, FILE="../line_lattice/ebsy.madx";
  CALL, FILE="../line_lattice/eirt1.madx";
  CALL, FILE="../line_lattice/eff1.madx";
  CALL, FILE="../line_lattice/edl1.madx";
!stop;
  TBETX:=50.525915605603;
  TALFX:=-2.379589233378;
  TBETY:=9.563928674469;
  TALFY:=0.510997181234;
  TWSS0:BETA0, ENERGY:=Ef, BETX:=TBETX, ALFX:=TALFX, BETY:=TBETY, ALFY:=TALFY;
  BEAM, PARTICLE=ELECTRON, ENERGY:=Ef;
  SETPLOT, XSIZE:=25.4, YSIZE:=20.32;
!  OPTION, ECHO = true;
!     USE, period=(EBSY,EIRT1,EFF1,EDL1);
 FFLINE0:LINE=(EBSY,EIRT1,EFF1,EDL1);
! FFLINE:LINE=(EBSY,EIRT1,EFF1);
 FFLINE:LINE=(EBSY,EIRT1,EFF1);
! FFLINEI:LINE=(EBSY,EIRT1,EFF1,EDL1);
!     USE, period=FFLINEI;
! FFLINEI:LINE=(FFLINE); 
 FFLINEI:LINE=(-EFF1); 
myval1=0.;
myval2=.001;

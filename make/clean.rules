# |
# o---------------------------------------------------------------------o
# |
# | MAD makefile - cleaning rules
# |
# o---------------------------------------------------------------------o
# |
# | Methodical Accelerator Design
# |
# | Copyright (c) 2011+ CERN, mad@cern.ch
# |
# | For more information, see http://cern.ch/mad
# |
# o---------------------------------------------------------------------o
# |
# | $Id$
# |

.PHONY: clean cleandir cleanc cleancxx cleanf90 cleandep cleanbuild cleanall

clean:
	$E "** Cleaning local files"
	$_ $(RM) core
	$_ $(RM) *~

cleandir: clean
	$E "** Cleaning files in depth"
	$_ $(FIND) . -name '*~' -exec $(RM) {} \;

cleanc:
	$E "** Cleaning C generated files"
	$_ $(RM) $(addprefix $(OBJDIR)$/,$(patsubst %.c,%.o,$(CC_SRC)))
	$_ $(RM) $(addprefix $(OBJDIR)$/,$(patsubst %.c,%.d,$(CC_SRC)))

cleancxx:
	$E "** Cleaning C++ generated files"
	$_ $(RM) $(addprefix $(OBJDIR)$/,$(patsubst %.cpp,%.o,$(CXX_SRC)))
	$_ $(RM) $(addprefix $(OBJDIR)$/,$(patsubst %.cpp,%.d,$(CXX_SRC)))

cleanf90:
	$E "** Cleaning F90 generated files"
	$_ $(RM) $(addprefix $(OBJDIR)$/,$(patsubst %.F90,%.o,$(patsubst %.f90,%.o,$(FC_SRC))))
	$_ $(RM) $(addprefix $(OBJDIR)$/,$(patsubst %.F90,%.d,$(patsubst %.f90,%.d,$(FC_SRC))))
	$_ $(RM) $(OBJDIR)$/*.mod

cleandep:
	$E "** Removing DEP generated files"
	$_ $(RM) $(OBJDIR)$/*.d

cleanbuild:
	$E "** Removing $(PROJECT)"
	$_ $(RM) $(PROJECT)$(PROJEXT)

cleanall: cleandir
	$E "** Removing" $(OBJDIR)
	$_ $(RMDIR) $(OBJDIR)
  
# end of makefile

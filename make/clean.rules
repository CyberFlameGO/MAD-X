# |
# o---------------------------------------------------------------------o
# |
# | MAD makefile - cleaning rules
# |
# o---------------------------------------------------------------------o
# |
# | Methodical Accelerator Design
# |
# | Copyright (c) 2011+ CERN, mad@cern.ch
# |
# | For more information, see http://cern.ch/mad
# |
# o---------------------------------------------------------------------o
# |
# | $Id$
# |

.PHONY: clean cleanc cleancxx cleanf90 cleanbuild cleanall

clean:
	$E "** Cleaning local files"
	$_ $(RM) *.o
	$_ $(RM) *.g90
	$_ $(RM) *.mod
	$_ $(RM) *.lst
	$_ $(RM) core
	$_ $(RM) *~

cleanc:
	$E "** Cleaning C generated files"
	$_ $(RM) $(addprefix $(OBJDIR),$(patsubst %.c,%.o,$(CC_SRC)))
	$_ $(RM) $(addprefix $(OBJDIR),$(patsubst %.c,%.d,$(CC_SRC)))

cleancxx:
	$E "** Cleaning C++ generated files"
	$_ $(RM) $(addprefix $(OBJDIR),$(patsubst %.cpp,%.o,$(CXX_SRC)))
	$_ $(RM) $(addprefix $(OBJDIR),$(patsubst %.cpp,%.d,$(CXX_SRC)))

cleanf90:
	$E "** Cleaning F90 generated files"
	$_ $(RM) $(addprefix $(OBJDIR),$(patsubst %.F90,%.o,$(patsubst %.f90,%.o,$(FC_SRC))))
	$_ $(RM) $(addprefix $(OBJDIR),$(patsubst %.F90,%.d,$(patsubst %.f90,%.d,$(FC_SRC))))
	$_ $(RM) $(OBJDIR)*.mod

cleanbuild:
	$E "** Removing $(PROJECT)"
	$_ $(RM) $(PROJECT)

cleanall: clean
	$E "** Removing" $(OBJDIR)
	$_ $(RMDIR) $(OBJDIR)
  
# end of makefile

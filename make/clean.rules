# |
# o---------------------------------------------------------------------o
# |
# | MAD makefile - cleaning rules
# |
# o---------------------------------------------------------------------o
# |
# | Methodical Accelerator Design
# |
# | Copyright (c) 2011+ CERN, mad@cern.ch
# |
# | For more information, see http://cern.ch/mad
# |
# o---------------------------------------------------------------------o
# |
# | $Id$
# |

.PHONY: clean cleanall

clean:
	$E "** Cleaning local files"
	$_ rm -f *.o
	$_ rm -f *.g90
	$_ rm -f *.mod
	$_ rm -f *.lst
	$_ rm -f core
	$_ rm -f *~

cleanc:
	$E "** Cleaning C generated files"
	$_ rm -f $(addprefix $(OBJDIR)/,$(patsubst %.cpp,%.o,$(C_SRC))))
	$_ rm -f $(addprefix $(OBJDIR)/,$(patsubst %.cpp,%.d,$(C_SRC))))

cleancxx:
	$E "** Cleaning C++ generated files"
	$_ rm -f $(addprefix $(OBJDIR)/,$(patsubst %.cpp,%.o,$(CXX_SRC))))
	$_ rm -f $(addprefix $(OBJDIR)/,$(patsubst %.cpp,%.d,$(CXX_SRC))))

cleanf90:
	$E "** Cleaning F90 generated files"
	$_ rm -f $(addprefix $(OBJDIR)/,$(patsubst %.F90,%.o,$(patsubst %.f90,%.o,$(FC_SRC))))
	$_ rm -f $(addprefix $(OBJDIR)/,$(patsubst %.F90,%.d,$(patsubst %.f90,%.d,$(FC_SRC))))
	$_ rm -f $(OBJDIR)/*.mod

cleanbuild:
	$E "** Removing $(PROJECT)"
	$_ rm -f $(PROJECT)

cleanall: clean
	$E "** Removing" $(OBJDIR)
	$_ rm -rf $(OBJDIR)
  
# end of makefile

<head> <title>PLOT</title> <!-- Changed by: Chris ISELIN, 27-Jan-1997
--> <!-- Changed by: Hans Grote, 25-Sep-2002 --> <!-- Changed by:
E. T. d'Amico, 20-Oct-2004 --> </head>

<body bgcolor="#ffffff">
<center>
EUROPEAN ORGANIZATION FOR NUCLEAR RESEARCH <IMG
SRC="http://cern.ch/madx/icons/mx7_25.gif" align=right> <h2>PLOT</h2> </center>
<p>
Values contained in MAD-X tables can be plotted in the form column
versus column, with up to four differently scaled vertical axes;
furthermore, if the horizontal axis is the position "s" of the
elements in a sequence, then the symbolic machine can be plotted above
the curves as well. In certain conditions True interpolation inside
the element is available (through calls to the Twiss module for each
slice) .  The "environment" (interpolation, line thickness, annotation
size, PostScript format) can be set with the <a
href="#setplot">setplot</a> command.  <ul> <li><h4><a
name=plot>PLOT</a></h4> <pre> plot, vaxis=vname1,vname2,..,vnamen,
vaxis1=vname1,vname2,..,vnamen, vaxis2=vname1,vname2,..,vnamen,
vaxis3=vname1,vname2,..,vnamen, vaxis4=vname1,vname2,..,vnamen,
haxis=vname, hmin=real, hmax=real, vmin=reals, vmax=reals, bars=integer,
style=integer, colour=integer, symbol=integer, noversion=logical,
interpolate=logical, noline=logical, notitle=logical, marker_plot=logical, 
range_plot=logical, table=table_name, particle=particle1,particle2,..,particlen,
multiple=logical, title=string, range=range, file=file_name_start, 
ptc=logical, ptc_table=table_name, trackfile=table_name; </pre> where the
parameters have the following meaning: <ul> <li>vaxis: one or several
variables from the table to be plotted against the (only) vertical
axis.  <li>vaxis1: one or several variables from the table to be
plotted against the vertical axis number 1 (out of 4 possible ones).
<li>vaxis2: one or several variables from the table to be plotted
against the vertical axis number 2 (out of 4 possible ones).
<li>vaxis3: one or several variables from the table to be plotted
against the vertical axis number 3 (out of 4 possible ones).
<li>vaxis4: one or several variables from the table to be plotted
against the vertical axis number 4 (out of 4 possible ones).
<li><font color=ff0000><i>Important: vaxis and vaxisI are exclusive in
their application!</i></font> <li>haxis: name of the horizontal
variable <li>hmin: lower horizontal edge <li>hmax: upper horizontal
edge; to be used, both hmin and hmax must be given.  <li>vmin:lower
edges of vertical axes, up to four numbers <li>vmax:upper edges of
vertical axes, up to four numbers; both vmin and vmax must be given
for an axis to be effective.  <li>bars: 0 (default) or 1 - in the
latter case, all curve points coming from the table are connected with
the horizontal axis by vertical bars.  <li>style: 1 (default), 2, 3,
or 4: curve style, being solid, dashed, dotted, and dot-dashed; a
value of 100 makes MAD-X use these four styles in turn for successive
curves in the same plot. If style is 0 no curve is printed between
points.  N.B. If symbol and style are null at the same time, style is
forced to its default value (= 1).  <li>colour: 1 (default), 2, 3, ,
or 5: colour, being black, red, green, blue, and magenta; a value of
100 makes MAD-X use these five colours in turn for successive curves.
<li>symbol: 0 (default), 1, 2, 3, 4, or 5: none, dot, "+", "*",
circle, and "x". These symbols are potted at all curve points; there
size may have to be adapted (see below).  <li>noversion: logical,
default=false. If set true, the information concerning the madx
version and the date are suppressed from the title. This option frees
more space for the user's title.  <li>interpolate: logical,
default=false. Normally the curve points from the table are connected
by straight lines; if "interpolate" is requested, then on-momentum
Twiss parameters such as beta, alfa, and dispersion are interpolated
with calls to the Twiss module inside each element, for all other
variables splines are used to smooth the curves.  <li>noline: logical,
default=false. If s is the horizontal variable, then the machine will
be plotted in symbolic form above the curve plot (except for tables
having been read back into MAD-X). This may result in a thick black
block if the horizontal scale is too large. "noline" allows the user
to suppress the machine plotting.  
<li>notitle: logical, default=false. If true, suppresses the title
line, including the information on the version and date.
<li>marker_plot: logical, default=false. If true, plotting is done
also at the location of marker elements. This is only useful for the
plotting of non-continuous functions like the "N1" from the aperture
module. Beware that the PS file might became very large if this flag
is invoked.
<li>range_plot: logical, default=false. Needed to allow to specify
a plotting range also for user defined horizontal axis. 
<li>table: name of
the table to be plotted from (default: twiss). If it is <i>track</i>,
the data to be plotted are taken from the tracking files generated for
each required particle as defined by the attribute
<i>particle</i>. The name of this file has the following format: file
name as defined by the attribute <i>trackfile</i>, the observation
point fixed to 1 and the particle number,
e.g. <i>testtrack.obs0001.p0003</i>.  If the required file has not
been generated by the previous MAD-X command track, no plot is done
for that particle.  The plot is obtained through the <i>gnuplot</i>
package.  <font color=ff0000>N.B. the previous track command should
contain the attribute
<i>dump</i>. The tracking plots appends the plots to an existing file
specified via <i>filename</i> appended by <i>.ps</i>. The user should
make sure that this file does not exist before starting a MAD-X
run!</font> <li>particle: one or several numbers associated to the
tracked particles for which the specified plot has to be displayed.
<li>multiple: logical, default=false. If true all the curves generated
for each tracked particle are put on one plot. Otherwise there will be
one plot for each particle.  <li>title: plot title string; if absent,
the last overall title is used; if no such overall title as well, the
sequence name is used.  <li>range: horizontal plot <a
href="../Introduction/ranges.html">range</a> given by elements.
<li>file_name: start of the file name for the Postscript file(s). Only
the first occurrence of such a name will be used. Default is "madx" or
"madx_track" if the <i>table</i> attribute is track.  Depending on the
format (.ps or .eps, see below) the plots will either all be written
into one file file_name.ps, or one per plot into file_name01.eps,
file_name02.eps, etc.  <li>ptc: logical, default=false. If set true,
the data to be plotted are taken from the table defined by the
attribute <i>ptc_table</i> which is expected to be generated
previously by the ptc package. The data belong to the column
identified by one of the names set in the definition of the ptc twiss
table. Interpolation is not available and the attribute
<i>interpolate</i> has no effect.  <li>ptc_table: name of the ptc
twiss table to be plotted from (default: ptc_twiss) <li>trackfile:
first part of the name of the files containing tracking data for each
particle (default: track) </ul>
<p>
<li><h4><a name=setplot>SETPLOT</a></h4> <pre> setplot,
post=integer,font=integer, lwidth=real,xsize=real,ysize=real,
ascale=real, lscale=real, sscale=real, rscale=real; </pre> where the
parameters have the following meaning: <ul> <li>post: default = 1. If
=1, makes one PostScript file (.ps) with all plots; if =2, makes one
Encapsulated PostSscript file (.eps) per plot.  <li>font: there are
two defaults: 1 for screen plotting: this uses characters made from
polygons; -1 for PostScript files; this is Times-Italic. There are
various fonts available for positive and negative integers, best to be
tried out, since they will look different on different systems
anyway. GhostView will show strange vertical axis annotations, but the
printed versions are normally OK.  <li>lwidth: default = 1. Allows the
user to set the curve line width.  Depends on the system as well, so
to be tried out.  <li>xsize: bounding box size for PostScript,
default=27 cm.  <li>ysize: bounding box size for PostScript,
default=19 cm.  <li>ascale: annotation character height scale factor,
default=1.  <li>lscale: axis label character height scale factor,
default=1.  <li>sscale: curve symbol (see above) scale factor,
default=1.  <li>rscale: axis text character height scale factor,
default=1.  </ul>
<p>
<li><h4><a name=resplot>RESPLOT</a></h4> <pre> resplot; </pre> resets
all defaults for the setplot command.  </ul>

<address>
<a href="http://www.cern.ch/Hans.Grote/hansg_sign.html">hansg</a>,
June 17, 2002, rdemaria <a
href="http://cern.ch/rdemaria">rdemaria</a></a>, September 2007.
</address>

</body>

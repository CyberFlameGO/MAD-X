%%\title{Range Selection}
%  Changed by: Chris ISELIN, 27-Jan-1997 
%  Changed by: Hans Grote, 10-Jun-2002 

\chapter{Range and Class Selection Format}

\section{RANGE}
\label{sec:range}

 \href{range}{RANGE}: \\
A range can be defined starting at  a given element and ending at
another element, both elements included. Two forms exist:  

\begin{verbatim}
range=position;
range=position1/position2;
\end{verbatim} 

In the first case, only one element is selected; in the second case, one
or several elements are selected. NOTE: position1 must not be behind
position2 in the sequence.  

"position" is composed of the element name and an optional occurrence count in the sequence: 
\label{range_position}
\begin{verbatim}
mq.ir5.l6..1          ! no occurrence count given
mb[17]                ! occurrence count given
\end{verbatim} 

There are two predefined indices in \madx: 
\begin{itemize}
   \item \href{s}{\#S}. The start of the beam line expanded by USE, 
   \item \href{e}{\#E}. The end of the beam line expanded by USE. 
\end{itemize} 

If, in the USE statement, only a range is selected: 
\begin{verbatim}
use,period=lhcb1,range=ir1/ir5;
\end{verbatim} 
then "\#s" and "\#e" refer to the start and end of the expanded range, of course. 

 Examples for ranges: 
\begin{verbatim}
..,range=#s;           ! first element
..,range=#s/#e;        ! full expansion range
..,range=mb[5]/#e;     ! from mb 5 to end
..,range=mq.ir5.l6..1; ! first occurrence of element mq.ir5.l6..1
\end{verbatim}

\section{CLASS}
\label{sec:range_class}
\href{class}{CLASS}:\\ 
The single name of a class (no occurrence counts). A class is the name
of an element (or basic type) from which other elements have been
derived. 

Example: 
\begin{verbatim}
mq:quadrupole;
q1:mq;
q2:mq;
q1..a:q1;
q2..b:q2;
\end{verbatim} 
makes classes from mq, q1, and q2. 

Selection class="mq" will actually select q1, q2, q1..a, and q2..b in the above example. 

%\href{http://www.cern.ch/Hans.Grote/hansg_sign.html}{hansg}, June 17, 2002 


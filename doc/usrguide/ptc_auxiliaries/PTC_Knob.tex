%\documentclass[a4paper,11pt]{article}
%%\usepackage{ulem}
%%\usepackage{a4wide}
%%\usepackage[dvipsnames,svgnames]{xcolor}
%%\usepackage[pdftex]{graphicx}
%%\title{PTC\_KNOB}
%%\usepackage{hyperref}
% commands generated by html2latex


%%\begin{document}
%%\begin{center}
   %%EUROPEAN ORGANIZATION FOR NUCLEAR RESEARCH   
%%\includegraphics{http://cern.ch/madx/icons/mx7_25.gif}

\section{PTC\_KNOB}
%%\end{center}
%   ##########################################################              

%   ##########################################################              

%   ##########################################################              

%   ##########################################################              


\subsubsection{   USER MANUAL   }
%   ##########################################################              


\paragraph{SYNOPSIS}
\begin{verbatim}

PTC_KNOB, 
elementname = [s, none] , 
kn    = [i, {-1}], 
ks    = [i, {-1}], 
exactmatch = [l, true, true] ; 

\end{verbatim}
%   ##########################################################              


\textbf{ Description }\\

 Sets knobs in PTC calculations (currently ony in PTC\_TWISS, PTC\_NORMAL will follow). Knobs appear as the additional parameters of the phase space. Twiss functions are then obtained  as functions of these parameters (Taylor series).  Also map elements might be stored as functions of knobs, see  \href{PTC_Select.html}{ ptc\_select} command description to lear how to request given element to be stored as a Taylor series.  The parametric results can be further  \\
 
\begin{enumerate}
	\item  written to a file with \href{PTC_PrintParametric.html}{ptc\_printparametric}.
	\item  plotted and studied using rviewer command (rplot plugin). 
	\item  used to obtain very quickly approximate values of lattice functions for given values of knobs     (\href{PTC_SetKnobValue.html}{ptc\_setknobvalue}).     This feature is the foundation of a fast matching alorithm with PTC.     
\end{enumerate}

\textbf{ Example }\\

\href{http://cern.ch/frs/mad-X_examples/ptc_madx_interface/knobs/knobs.madx}{ dog leg chicane  } : Dipolar components of both rbends and dipolar and quadrupolar components of the focusing quads set as knobs. Some first and second order map coefficients set to be stored as parametric results. ptc\_twiss command is performed and the parametric results are written to files in two formats.  \href{http://cern.ch/frs/mad-X_examples/ptc_madx_interface/matchknobs/matchknobs.madx}{ dog leg chicane  } : Knobs values are matched to get requested lattice functions.
%   ##########################################################              

\paragraph{ Command parameters and switches }
\begin{description}
	\item \textbf{ elementname } \textit{ string in range format, }

 Specifies name of the element containing the knob(s) to be set.   
	\item \textbf{ kn,ks } \textit{ list of integers,   }

 Defines which order    
	\item \textbf{ exactmatch }
    \textbf{\textit{ logical, default true, if value explicitly not specified then true}\\\\
 Normally a knob is a property of a single element in a layout.        The specified name must match 1:1 to an element name. This is the case       when exactmatch is true.\\\\ 
 Knobs might be also set to all family of elements. In such case        the exactmatch switch must be false. A given order field component of all the elements        that name starts with the name specified by the user become a single knob.   }
	\item \textbf{initial}
\end{description}

\textbf{\_  }
%  ############################################################ 

%  ############################################################ 

%  ############################################################ 

% 
% <h3> PROGRAMMERS MANUAL </h3>
% 
% <p> 
% The command is implemented pro_ptc_knob function in madxn.c and 
% by subroutine xxxx in madx_ptc_xxx.f90.
% <p>
% Sopecified range is resolved with help of get_range command. Number of the element in the current sequence
% is resolved and passed as the parameter to the fortran routine. It allows to resolve uniquely the corresponding
% element in the PTC layout.
% <p>
% 
% 


%%\end{document}

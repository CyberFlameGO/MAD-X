%%\title{the mad program}
%  Changed by: Chris ISELIN, 27-Jan-1997 
%  Changed by: Oliver Bruning, 19-Jun-2002 
 
\section{Define Variable Parameter}

\subsection{\href{vary}{VARY: Define Variable Parameter}} 

A parameter to be varied is specified by the command 

\begin{verbatim}
VARY,NAME=variable,STEP=real,LOWER=real,UPPER=real;
\end{verbatim}

It has four attributes: 
\begin{itemize}
	\item NAME: The \href{../Introduction/variable.html}{name of the parameter or attribute} to be varied, 
	\item STEP: The approximate initial step size for varying the parameter. If the step is not entered, MAD tries to find a reasonable step, but this may not always work. 
	\item LOWER: Lower limit for the parameter (optional), 
	\item UPPER: Upper limit for the parameter (optional). 
	\item SLOPE: allowed change rate (optional, available only using \href{match_xeq.html#jacobian}{JACOBIAN} routine). Limit the parameter to increase (SLOPE=1) decrease (SLOPE=-1) only. 
	\item OPT: optimal value for the parameter (optional, available only using \href{match_xeq.html#jacobian}{JACOBIAN} routine). 
\end{itemize} 

Examples: 
\begin{verbatim}
VARY,NAME=PAR1,STEP=1.0E-4;                         ! vary global parameter PAR1 
VARY,NAME=QL11->K1,STEP=1.0E-6;                     ! vary attribute K1 of the QL11 
VARY,NAME=Q15->K1,STEP=0.0001,LOWER=0.0,UPPER=0.08; ! vary with limits
\end{verbatim}

If the upper limit is smaller than the lower limit, the two limits are interchanged. If the current value is outside the range defined by the limits, it is brought back to range. If a parameter comes outside the limits during the matching process the matching module resets the parameter to a value inside the limits and informs the user with a message. If such a 'rescaling' occurs more than 20 times the matching process terminates. The user should either eliminate the corresponding parameters from the list of varied parameters or change the corresponding upper and lower limits before restarting the matching process. After a matching operation all varied attributes retain their value after the last successful matching iteration. Using \href{match_xeq.html#jacobian}{JACOBIAN} routine, STRATEGY=3, in case the number of parameters is greater the the number of constraint, if a parameter comes outside the limits, it is excluded automatically from the set of variables and a new solution is searched. 

%\href{http://bruening.home.cern.ch/bruening/}{Oliver Br\"uning}, June, 2002. \href{http://rdemaria.home.cern.ch/rdemaria/}{Riccardo de Maria}, February, 2006.